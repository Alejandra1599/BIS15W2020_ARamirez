library(tidyverse)
#built-in R dataset
glimpse(msleep)
msleep %>%
select(name, genus, sleep_total, awake) %>%
glimpse()
msleep %>%
select(name:order, sleep_total:sleep_cycle) %>%
glimpse
names(fish)
fish <- readr::read_csv("data/Gaeta_etal_CLC_data.csv")
names(fish)
select(fish, fish_id:length)
View(fish)
View(fish)
View(fish)
View(fish)
View(fish)
fish <- readr::read_csv("data/Gaeta_etal_CLC_data.csv")
read.csv("data/mammal_lifehistories_v2.csv")
mammals_df <- read.csv("data/mammal_lifehistories_v2.csv")
mammals_df <- as.data.frame(mammals_df)
mammals_df <- read.csv("data/mammal_lifehistories_v2.csv")
mammals_df <- as.data.frame(mammals_df)
mammals_df
mammals_tibble <- as.tibble(mammals_df)
mammals_tibble <- as_tibble(mammals_df)
mammals_tibble
data.frame(a = 1:5, b = letters[1:5])
tibble(a = 1:5, b = letters[1:5])
data.frame(sample = letters[1:5], value=1:5)
tibble(sample = letters[1:5], value=1:5)
View(fish)
select(fish, starts_with("radii")) %>%
select(fish, starts_with("radii"))
msleep %>%
select(contains("eep"), ends_with("wt")) %>%
glimpse
#selecting based on regex
msleep %>%
select(matches("o.+er")) %>%
glimpse
select(fish, matches("a.+er"))
mammals <- readr::read_csv("data/mammal_lifehistories_v2.csv")
names(mammals)
select(mammals, Genus, species, mass)
select(mammals, -order, -family)
names(mammals)
glimpse(mammals)
select(mammals, contains("mass"))
select_if(fish, is.numeric)
fish <- readr::read_csv("data/Gaeta_etal_CLC_data.csv")
select_if(fish, is.numeric)
select_if(fish, ~!is.numeric(.))
select(mammals, Genus, species, mass)
rename(mammals, genus="Genus")
select(mammals, genus=Genus, species, mass )
select_all(mammals, toupper)
select_all(mammals, tolower)
select_all(mammals, ~str_replace(., " ", "_"))
select_all(mammals, ~str_replace(" ", "_"))
select_all(mammals, ~str_replace(., " ", "_"))
filter(fish, lakeid == "AL")
filter(fish, length >= 350)
filter(fish, lakeid == "AL" & length > 350) #only the fish that have lakeid AL AND length >350
filter(fish, lakeid == "AL" | length < 350)
filter(fish, lakeid != "AL" | length < 350)
filter(fish, lakeid != "AL")
filter(fish, between(length, 167, 175))
filter(fish, near(radii_length_mm, 2, tol = 0.2))
knitr::opts_chunk$set(message = FALSE, error = FALSE, warning=FALSE)
msleep %>%
select(name, sleep_total) %>%
filter(str_detect(tolower(name), pattern = "mouse"))
fish$lakeid
filter(fish, lakeid == "DY")
filter(fish, lakeid == "BO")
filter(fish, lakeid != "BO")
filter(fish, lakeid != "BO" & lakeid != "DY")
filter(fish, scalelength>=11)
filter(fish, near(radii_length_mm, 11, tol = 0.5))
filter(fish, near(radii_length_mm, 11, tol = 0.75))
filter(fish, near(scalelength_mm, 11, tol = 0.75))
filter(fish, near(scalelength, 11, tol = 0.75))
filter(fish, near(scalelength, 11, tol = 0.5))
filter(fish, near(scalelength, 11, tol = 0.25))
filter(fish, near(scalelength, 11, tol = 0.05))
filter(fish, near(scalelength, 11, tol = 0.5))
filter(fish, near(scalelength, 8, tol = 0.5))
filter(fish, near(scalelength, 8, tol = 0.5))
filter(fish, near(scalelength, 8, tol = 0.5))
filter(fish, lakeid=="AL" & between(scalelength, 2, 4))
filter(fish, lakeid=="AL" & between(scalelength, 2, 3))
filter(fish, lakeid=="AL" & between(scalelength, 2, 4))
filter(fish, between(scalelength, 2, 4))
filter(fish, lakeid == "AL", length > 350)
filter(fish, lakeid == "AL" & length > 350)
View(fish)
filter(fish, length > 400, (scalelength > 8 | lakeid != "AL"))
filter(fish, length > 400, (scalelength > 8, lakeid != "AL"))
filter(fish, length > 400, (scalelength > 8 | lakeid != "AL"))
filter(fish, length > 400, (scalelength > 8 | lakeid = "AL"))
filter(fish, length > 400, (scalelength > 8 | lakeid == "AL"))
filter(fish, length > 400, (scalelength > 9 | lakeid == "AL"))
filter(fish, length > 400, (scalelength > 10 | lakeid == "AL"))
filter(fish, length > 400, (scalelength > 11 | lakeid == "AL"))
filter(fish, length > 405, (scalelength > 11 | lakeid == "AL"))
filter(fish, length > 405, (scalelength > 11 | radii_length_mm > 8))
filter(fish, length > 400, (scalelength > 11 | radii_length_mm > 8))
filter(fish, length >= 400, (scalelength > 11 | radii_length_mm > 8))
filter(fish, length > 400, (scalelength > 11 | radii_length_mm > 8))
msleep %>%
select(name:order, sleep_total, -vore) %>%
filter_all(any_vars(str_detect(., pattern = "Ca")))
msleep %>%
select(name, sleep_total:sleep_rem, brainwt:bodywt) %>%
filter_at(vars(sleep_total, sleep_rem), all_vars(.>5))
msleep %>%
select(name, sleep_total:sleep_rem, brainwt:bodywt) %>%
filter_at(vars(contains("sleep")), all_vars(.>5))
filter(fish, lakeid != "AL")
filter(fish, lakeid != "AR")
filter(fish, lakeid == "AL" | length > 350)
filter(fish, length > 400, (scalelength > 11 | radii_length_mm > 8))
mammals
filter(mammals, family=="Bovidae", mass>=400000)
filter(mammals, family=="Bovidae", mass>=450000)
fish %>%
select(lakeid, radii_length_mm) %>%
filter(lakeid=="AL" | lakeid=="AR", between(length, 2, 4))
fish %>%
select(lakeid, radii_length_mm) %>%
filter(lakeid=="AL" | lakeid=="AR", (between(length, 2, 4)))
fish %>%
select(lakeid, radii_length_mm) %>%
filter(lakeid=="AR", (between(length, 2, 4)))
fish %>%
select(lakeid, radii_length_mm) %>%
filter(lakeid=="AL" | lakeid=="AR", (between(radii_length_mm, 2, 4)))
fish %>%
filter(lakeid=="AL" | lakeid=="AR") %>%
filter(radii_length_mm>=2 & radii_length_mm<=4)
fish
filter(mammals, order %in% c("Didelphimorphia", "Diprotodontia"))
View(mammals)
filter(mammals, order %in% c("Carnivora", "Primates"))
fish %>%
mutate(length_mm = length/1000) %>%
select(fish_id, length, length_mm)
fish %>%
mutate(length_mm = length*1000) %>%
select(fish_id, length, length_mm)
fish %>%
mutate(length_mm = length*100) %>%
select(fish_id, length, length_mm)
mammals
mammals %>%
select(Genus, species, newborn) %>%
arrange(desc(newborn))
mammals %>%
select(Genus, species, newborn) %>%
arrange(newborn))
mammals %>%
select(Genus, species, newborn) %>%
arrange(newborn)
mammals %>%
select(Genus, species, newborn) %>%
mutate(newborn_new = ifelse(newborn == -999.00, NA, newborn)) %>%
arrange(newborn_new)
mammals %>%
select(Genus, species, newborn) %>%
mutate(newborn_new = ifelse(newborn == -999.00, NA, newborn)) %>%
arrange(desc(newborn_new))
mammals %>%
select(Genus, species, newborn) %>%
mutate(newborn_new = ifelse(newborn == -999.00, NA, newborn)) %>%
arrange(newborn_new)
mammals %>%
select(Genus, species, newborn) %>%
mutate(newborn_new = ifelse(newborn == -999.00, NA, newborn)) %>%
is.na(newborn_new)
mammals %>%
select(Genus, species, newborn) %>%
mutate(newborn_new = ifelse(newborn == -999.00, NA, newborn)) %>%
is.na()
mammals %>%
select(Genus, species, newborn) %>%
mutate(newborn_new = ifelse(newborn == -999.00, NA, newborn))
msleep %>%
mutate_all(tolower)
mammals %>%
mutate_all(tolower)
msleep_ohno <- msleep %>%
mutate_all(~paste(., "  /n  "))
msleep_ohno[,1:4]
mammals_ohno <-
mammals %>%
mutate_all(~paste(., "  /n  "))
mammals_ohno[,1:4]
mammals_ohno <-
mammals %>%
mutate_all(~paste(., "  /q  "))
mammals_ohno[,1:4]
mammals_corr <-
mamals_ohno %>%
mutate_all(~str_replace_all(., "/n", "")) %>%
mutate_all(str_trim)
mammals_corr <-
mammals_ohno %>%
mutate_all(~str_replace_all(., "/n", "")) %>%
mutate_all(str_trim)
msleep_corr[,1:4]
mammals_corr <-
mammals_ohno %>%
mutate_all(~str_replace_all(., "/n", "")) %>%
mutate_all(str_trim)
mammals_corr[,1:4]
mammals_corr <-
mammals_ohno %>%
mutate_all(~str_replace_all(., "/q", "")) %>%
mutate_all(str_trim)
mammals_corr[,1:4]
mammals_corr <-
mammals_ohno %>%
mutate_all(~str_replace_all(., "/q", " ")) %>%
mutate_all(str_trim)
mammals_corr[,1:4]
knitr::opts_chunk$set(message = FALSE, error = FALSE, warning=FALSE)
library(dplyr)
msleep <- ggplot2::msleep
glimpse(msleep)
msleep %>%
count(order, sort = TRUE)
msleep %>%
count(order, sort = F)
msleep %>%
count(order, sort = T)
msleep %>%
count(order, vore, sort = TRUE)
msleep %>%
count(order, vore, sort = TRUE)
msleep %>%
tally()
msleep %>%
select(1:3) %>%
add_tally()
msleep %>%
select(name:vore) %>%
add_count(vore)
msleep %>%
count(order, sort = T)
msleep %>%
count(order, vore, sort = TRUE)
msleep %>%
select(name:vore) %>%
add_count(order)
msleep %>%
select(name:vore)
msleep %>%
select(name:order) %>%
add_count(order)
msleep %>%
select(name:order, -genus) %>%
add_count(order)
msleep %>%
select(order, vore) %>%
add_count(order)
msleep %>%
select(name:vore) %>%
add_count(order)
msleep %>%
select(name:order) %>%
add_count(order)
msleep %>%
select(name:order) %>%
add_count(order) %>%
top_n(5)
msleep %>%
select(name:order) %>%
add_count(order) %>%
top_n(-5) #the top 5
knitr::opts_chunk$set(echo = TRUE)
homerange <- readr::read_csv("data/Tamburelloetal_HomeRangeDatabase.csv")
spec(homerange)
dim(homerange)
colnames(homerange)
glimpse(homerange)
summary(homerange)
names(homerange)
anyNA(homerange)
homerange$taxon <- as.factor(homerange$taxon)
homerange$order <- as.factor(homerange$order)
levels(homerange$taxon)
levels(homerange$order)
deer <-
homerange %>%
filter(family=="cervidae") %>%
select(family, genus, species, mean.mass.g, log10.mass) %>%
arrange(desc(log10.mass))
deer
snakes <-
homerange %>%
filter(taxon=="snakes") %>%
arrange(log10.hra)
snakes
hra_ratio <-
homerange %>%
filter(taxon=="birds") %>%
select(genus, species, mean.mass.g, log10.mass, log10.hra) %>%
arrange(mean.mass.g)
hra_ratio
hra_ratio <-
hra_ratio %>%
mutate(hra.mass.ratio=log10.hra/log10.mass) %>%
arrange(desc(mean.mass.g))
hra_ratio
hra_ratio %>%
filter(hra.mass.ratio>=4.0) %>%
arrange(mean.mass.g)
hra_ratio %>%
filter(hra.mass.ratio>=0.5) %>%
arrange(desc(log10.mass))
hra_ratio %>%
filter(hra.mass.ratio>=0.5) %>%
arrange(desc(log10.mass))
hra_ratio %>%
select(genus=="struthio" & species=="camelus")
View(hra_ratio)
hra_ratio %>%
filter(genus=="struthio" & species=="camelus")
setwd("~/Desktop/BIS15W2020_ARamirez")
knitr::opts_chunk$set(echo = TRUE)
homerange <- readr::read_csv("data/Tamburelloetal_HomerangeDatabase.csv")
spec(homerange)
dim(homerange)
names(homerange)
variable.names(homerange)
glimpse(homerange) #shows the classes of each variable
anyNA(homerange)
homerange$taxon <- as.factor(homerange$taxon)
homerange$order <- as.factor(homerange$order)
levels(taxon)
homerange$taxon <- as.factor(homerange$taxon)
homerange$order <- as.factor(homerange$order)
levels(homerange$taxon)
levels(homerange$order)
mean_mass <-homerange$mean.mass.g
log10_mass <-homerange$log10.mass
family <- homerange$family
genus <- homerange$genus
species <- homerange$genus
deer <- data.frame(mean_mass, log10_mass, family, genus, species)%>%
filter(family == "cervidae")%>%
arrange(desc(log10_mass))
deer
deer <-
homerange %>%
filter(family=="cervidae") %>%
select(family, genus, species, mean.mass.g, log10.mass) %>%
arrange(desc(log10.mass))
deer
hra_ratio <-
homerange%>%
filter(taxon == "birds")%>%
select(genus, species, mean.mass.g, log10.mass, log10.hra)%>%
arrange(mean.mass.g)
hra_ratio
hra_ratio <-
hra_ratio%>%
mutate(hra.mass.ratio = log10.hra/log10.mass)%>%
arrange(desc(mean.mass.g))
hra_ratio
hra_ratio%>%
filter(hra.mass.ratio >= 4)%>%
arrange(mean.mass.g)
Ostrich<-
homerange %>%
filter(common.name == "ostrich") %>%
mutate(hra.ostrich = log10.hra/log10.mass) %>%
select(hra.ostrich)
Ostrich
install.packages(c("broom", "callr", "foreign", "prettyunits", "RCurl", "rlang", "rmarkdown", "tidyr", "tidyselect", "vctrs"))
install.packages(c("broom", "callr", "foreign", "prettyunits", "RCurl", "rlang", "rmarkdown", "tidyr", "tidyselect", "vctrs"))
install.packages(c("broom", "callr", "foreign", "prettyunits", "RCurl", "rlang", "rmarkdown", "tidyr", "tidyselect", "vctrs"))
install.packages(c("broom", "callr", "foreign", "prettyunits", "RCurl", "rlang", "rmarkdown", "tidyr", "tidyselect", "vctrs"))
